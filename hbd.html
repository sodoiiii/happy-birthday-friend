<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday ‚Äî ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</title>

  <!-- ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠ repo -->
  <base href="/hbd/">

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffecd2;
      --bg2:#fcb69f;
      --card:#ffffffee;
      --accent:#ff6b6b;
      --muted:#6b6b6b;
    }
    *{box-sizing:border-box}
    html,body{margin:0;font-family:Montserrat,system-ui,Arial;scroll-behavior:smooth}
    body{
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px;
    }

    #confetti{position:fixed;inset:0;pointer-events:none;z-index:1}

    .scene{z-index:2;width:100%;max-width:600px;display:flex;flex-direction:column;align-items:center;gap:24px}

    .card{
      background:var(--card);
      border-radius:22px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,0.12);text-align:center;
      display:flex;flex-direction:column;align-items:center;gap:14px;
      width:100%;
    }

    .portrait{
      width:100%;max-width:500px;aspect-ratio:3/4;border-radius:18px;overflow:hidden;flex-shrink:0;display:block;border:6px solid rgba(255,255,255,0.9);
      background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.2));
    }
    .portrait img{width:100%;height:100%;object-fit:cover;display:block}

    h1{font-family:'Playfair Display',serif;margin:8px 0 0 0;font-size:32px;color:var(--accent)}
    p.lead{margin:0;color:var(--muted)}

    .panel{
      background:transparent;padding:10px;border-radius:18px;display:flex;flex-direction:column;gap:12px;align-items:center;width:100%;
    }

    .message{
      background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.86));padding:18px;border-radius:14px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
      min-height:180px;width:100%;display:flex;align-items:center;justify-content:center;text-align:center;font-size:18px;line-height:1.5;color:#333;
    }

    button{cursor:pointer;border:0;padding:10px 14px;border-radius:10px;font-weight:600}
    .btn-accent{background:var(--accent);color:white}
    .btn-light{background:#fff8;backdrop-filter:blur(4px)}

    footer{margin-top:8px;color:#4b4b4b;font-size:13px;text-align:center}

    .balloons{position:fixed;right:6%;top:6%;display:flex;flex-direction:column;gap:12px;z-index:1}
    .balloon{width:40px;height:60px;border-radius:50% 50% 50% 50%;transform-origin:center bottom;animation:float 4s ease-in-out infinite;box-shadow:0 6px 18px rgba(0,0,0,0.12)}
    .balloon:nth-child(1){background:linear-gradient(180deg,#ffd1dc,#ff7aa2);animation-delay:0s}
    .balloon:nth-child(2){background:linear-gradient(180deg,#d1f2ff,#6ec1ff);animation-delay:0.6s}
    .balloon:nth-child(3){background:linear-gradient(180deg,#fff6c2,#ffd36e);animation-delay:1.1s}
    @keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-18px)}100%{transform:translateY(0)}}
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <div class="scene">
    <div class="card">
      <a class="portrait" href="#" aria-label="‡∏†‡∏≤‡∏û‡∏ß‡∏≤‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô" id="portraitLink">
        <img id="portraitImg" src="portrait.jpg" alt="‡∏†‡∏≤‡∏û‡∏ß‡∏≤‡∏î">
      </a>
      <h1>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î üéâ</h1>
      <p class="lead">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‚Äî ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°</p>
      <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap;justify-content:center">
        <button class="btn-accent" id="editBtn">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£</button>
        <button class="btn-light" id="downloadBtn">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ</button>
      </div>
      <footer>‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å ‚Äî ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</footer>
    </div>

    <div class="panel">
      <div class="message" id="messageArea" contenteditable="true" spellcheck="false">
        ‡πÅ‡∏Æ‡∏õ‡πÜ‡∏ô‡∏∞ ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏π ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡πÜ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î
‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢ ‡πÅ‡∏ï‡πà‡∏™‡∏≤‡∏ô‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏™‡∏´‡∏≤‡∏¢‡∏Å‡πá‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏ô 18 ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏î‡∏µ ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏°‡∏≤‡∏Å‡πÜ (‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç ‡πÉ‡∏´‡∏ç‡πà‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞ ‡∏≠‡∏≤‡∏¢‡∏∏ 18 ‡πÅ‡∏´‡∏ô‡∏∞ ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÄ‡∏ï‡πá‡∏°)
      </div>
      <div style="display:flex;gap:10px;align-items:center;justify-content:center;margin-top:10px;flex-wrap:wrap">
        <button class="btn-accent" id="playBtn">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</button>
        <button class="btn-light" id="shareBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</button>
      </div>
    </div>
  </div>

  <div class="balloons">
    <div class="balloon"></div>
    <div class="balloon"></div>
    <div class="balloon"></div>
  </div>

  <audio id="bgMusic" loop autoplay src="bling.mp3"></audio>

  <script>
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let W = confettiCanvas.width = innerWidth;
    let H = confettiCanvas.height = innerHeight;

    window.addEventListener('resize',()=>{W=confettiCanvas.width=innerWidth;H=confettiCanvas.height=innerHeight})

    const pieces = [];
    const colors = ['#FF6B6B','#FFD166','#6BCB77','#4D96FF','#C77DFF'];
    for(let i=0;i<120;i++){
      pieces.push({x:Math.random()*W,y:Math.random()*H- H, r:Math.random()*6+4, d:Math.random()*Math.PI*2, c:colors[Math.floor(Math.random()*colors.length)], tilt:Math.random()*10-5, speed:Math.random()*1.5+0.5})
    }
    function update(){
      ctx.clearRect(0,0,W,H);
      for(const p of pieces){
        p.y += 0.7 + p.speed;
        p.x += Math.sin(p.d) * 0.7;
        p.d += 0.02;
        p.tilt += 0.02;
        ctx.save();
        ctx.translate(p.x,p.y);
        ctx.rotate(p.tilt*0.06);
        ctx.fillStyle = p.c;
        ctx.fillRect(-p.r/2,-p.r/2,p.r, p.r*1.6);
        ctx.restore();
        if(p.y>H+20){p.y=-20;p.x=Math.random()*W}
      }
      requestAnimationFrame(update);
    }
    update();

    const messageArea = document.getElementById('messageArea');
    const editBtn = document.getElementById('editBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const playBtn = document.getElementById('playBtn');
    const shareBtn = document.getElementById('shareBtn');
    const portraitImg = document.getElementById('portraitImg');
    const portraitLink = document.getElementById('portraitLink');
    const bgMusic = document.getElementById('bgMusic');

    editBtn.addEventListener('click',()=>{messageArea.focus();document.execCommand('selectAll',false,null)});

    downloadBtn.addEventListener('click',()=>{
      const url = portraitImg.src;
      if(!url) return alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏π‡∏õ');
      const a=document.createElement('a');a.href=url;a.download='portrait.jpg';document.body.appendChild(a);a.click();a.remove();
    });

    playBtn.addEventListener('click',()=>{
      if(!bgMusic.src){
        const song = prompt('‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏•‡∏á (mp3):','');
        if(!song) return;
        bgMusic.src = song;bgMusic.play();playBtn.textContent='‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á';
        return;
      }
      if(bgMusic.paused) {bgMusic.play();playBtn.textContent='‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á'} else {bgMusic.pause();playBtn.textContent='‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á'}
    });

    shareBtn.addEventListener('click',()=>{
      navigator.clipboard?.writeText(location.href).then(()=>{alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß')}).catch(()=>{alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à')})
    });

    portraitLink.addEventListener('click',async(e)=>{
      e.preventDefault();
      const input = document.createElement('input');input.type='file';input.accept='image/*';
      input.onchange = ()=>{
        const file = input.files[0];
        if(!file) return;
        const url = URL.createObjectURL(file);
        portraitImg.src = url;
      };
      input.click();
    });
  </script>
</body>
</html>
